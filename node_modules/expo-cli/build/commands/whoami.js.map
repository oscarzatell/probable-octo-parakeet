{"version":3,"sources":["../../src/commands/whoami.ts"],"names":["action","user","UserManager","getCurrentUserAsync","silent","chalk","green","username","log","raw","CommandError","program","command","alias","description","asyncAction"],"mappings":";;;;;;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAEA,eAAeA,MAAf,GAAwB;AACtB,QAAMC,IAAI,GAAG,MAAMC,mBAAYC,mBAAZ,CAAgC;AAAEC,IAAAA,MAAM,EAAE;AAAV,GAAhC,CAAnB;;AACA,MAAIH,IAAJ,EAAU;AACR,wBAAK,gBAAeI,iBAAMC,KAAN,CAAYL,IAAI,CAACM,QAAjB,CAA2B,EAA/C;;AACAC,mBAAIC,GAAJ,CAAQR,IAAI,CAACM,QAAb;AACD,GAHD,MAGO;AACL,UAAM,KAAIG,uBAAJ,EAAiB,eAAjB,EAAkC,eAAlC,CAAN;AACD;AACF;;AAEc,kBAASC,OAAT,EAA2B;AACxCA,EAAAA,OAAO,CACJC,OADH,CACW,QADX,EAEGC,KAFH,CAES,GAFT,EAGGC,WAHH,CAGe,+DAHf,EAIGC,WAJH,CAIef,MAJf;AAKD","sourcesContent":["import { Command } from 'commander';\nimport chalk from 'chalk';\nimport { UserManager } from '@expo/xdl';\n\nimport log from '../log';\nimport CommandError from '../CommandError';\n\nasync function action() {\n  const user = await UserManager.getCurrentUserAsync({ silent: true });\n  if (user) {\n    log(`Logged in as ${chalk.green(user.username)}`);\n    log.raw(user.username);\n  } else {\n    throw new CommandError('NOT_LOGGED_IN', 'Not logged in');\n  }\n}\n\nexport default function(program: Command) {\n  program\n    .command('whoami')\n    .alias('w')\n    .description('Checks with the server and then says who you are logged in as')\n    .asyncAction(action);\n}\n"],"file":"whoami.js"}